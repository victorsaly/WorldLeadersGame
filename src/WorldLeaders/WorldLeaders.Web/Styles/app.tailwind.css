@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* Retro 32-bit Color Palette - Child Designer Approved */
:root {
  /* Primary Green Theme (from README inspiration) */
  --retro-green-dark: #1a5a1a;
  --retro-green-main: #2ea44f;
  --retro-green-primary: #2ea44f;  /* Added for compatibility */
  --retro-green-light: #4ade80;
  --retro-green-bright: #86efac;
  
  /* Classic 32-bit Supporting Colors */
  --retro-blue: #3b82f6;
  --retro-purple: #8b5cf6;
  --retro-yellow: #eab308;
  --retro-red: #ef4444;
  --retro-orange: #f97316;
  
  /* Pixel Art Neutrals */
  --pixel-black: #000000;
  --pixel-dark-gray: #374151;
  --pixel-gray: #6b7280;
  --pixel-light-gray: #d1d5db;
  --pixel-white: #ffffff;
  
  /* High Contrast Text Colors for Accessibility */
  --text-on-light: #000000;
  --text-on-dark: #ffffff;
  --text-on-green: #ffffff;
  --text-on-blue: #ffffff;
  --text-on-red: #ffffff;
}

/* Custom child-friendly component classes */
@layer components {
  /* Retro 32-bit Game Container */
  .retro-game-container {
    background: linear-gradient(135deg, 
      var(--retro-green-dark) 0%, 
      var(--retro-green-main) 50%, 
      var(--retro-green-light) 100%);
    font-family: 'Press Start 2P', 'Courier New', monospace;
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
    min-height: 100vh;
  }

  /* Retro Pixel Art Button */
  .pixel-art-button {
    @apply relative font-bold text-white cursor-pointer;
    background: var(--retro-green-main);
    border: 4px solid var(--pixel-white);
    box-shadow: 
      inset 2px 2px 0 var(--retro-green-light),
      inset -2px -2px 0 var(--retro-green-dark),
      4px 4px 0 var(--pixel-dark-gray);
    font-family: 'Press Start 2P', monospace;
    font-size: 12px;
    padding: 12px 24px;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.1s ease;
    image-rendering: pixelated;
    min-height: 48px;
  }

  .pixel-art-button:hover {
    transform: translate(2px, 2px);
    box-shadow: 
      inset 2px 2px 0 var(--retro-green-light),
      inset -2px -2px 0 var(--retro-green-dark),
      2px 2px 0 var(--pixel-dark-gray);
  }

  .pixel-art-button:active {
    transform: translate(4px, 4px);
    box-shadow: 
      inset 2px 2px 0 var(--retro-green-dark),
      inset -2px -2px 0 var(--retro-green-light);
  }

  /* Small Pixel Art Button for Navigation */
  .pixel-art-button-small {
    position: relative;
    font-weight: bold;
    color: var(--text-on-green);
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
    background: var(--retro-green-main);
    border: 2px solid var(--pixel-white);
    box-shadow: 
      inset 1px 1px 0 var(--retro-green-light),
      inset -1px -1px 0 var(--retro-green-dark),
      2px 2px 0 var(--pixel-dark-gray);
    font-family: 'Press Start 2P', monospace;
    font-size: 8px;
    padding: 8px 12px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    transition: all 0.1s ease;
    image-rendering: pixelated;
    min-height: 32px;
    line-height: 1.2;
  }

  .pixel-art-button-small:hover {
    transform: translate(1px, 1px);
    box-shadow: 
      inset 1px 1px 0 var(--retro-green-light),
      inset -1px -1px 0 var(--retro-green-dark),
      1px 1px 0 var(--pixel-dark-gray);
    color: var(--text-on-green);
    text-decoration: none;
  }

  .pixel-art-button-small:active {
    transform: translate(2px, 2px);
    box-shadow: 
      inset 1px 1px 0 var(--retro-green-dark),
      inset -1px -1px 0 var(--retro-green-light);
    color: var(--text-on-green);
  }

  /* Blue variant for login */
  .pixel-art-button-small.blue {
    background: var(--retro-blue);
    color: var(--text-on-blue);
    box-shadow: 
      inset 1px 1px 0 #60a5fa,
      inset -1px -1px 0 #1d4ed8,
      2px 2px 0 var(--pixel-dark-gray);
  }

  .pixel-art-button-small.blue:hover {
    color: var(--text-on-blue);
    box-shadow: 
      inset 1px 1px 0 #60a5fa,
      inset -1px -1px 0 #1d4ed8,
      1px 1px 0 var(--pixel-dark-gray);
  }

  /* Red variant for logout */
  .pixel-art-button-small.red {
    background: var(--retro-red);
    color: var(--text-on-red);
    box-shadow: 
      inset 1px 1px 0 #f87171,
      inset -1px -1px 0 #dc2626,
      2px 2px 0 var(--pixel-dark-gray);
  }

  .pixel-art-button-small.red:hover {
    color: var(--text-on-red);
    box-shadow: 
      inset 1px 1px 0 #f87171,
      inset -1px -1px 0 #dc2626,
      1px 1px 0 var(--pixel-dark-gray);
  }

  /* Retro Pixel Art Card */
  .pixel-art-card {
    @apply relative p-6 bg-white;
    border: 4px solid var(--pixel-black);
    box-shadow: 
      4px 4px 0 var(--pixel-gray),
      8px 8px 0 var(--pixel-black);
    image-rendering: pixelated;
    transition: all 0.2s ease;
  }

  .pixel-art-card:hover {
    transform: translate(-2px, -2px);
    box-shadow: 
      6px 6px 0 var(--pixel-gray),
      10px 10px 0 var(--pixel-black);
  }

  .pixel-art-card.green-theme {
    background: linear-gradient(135deg, 
      var(--retro-green-light) 0%, 
      var(--pixel-white) 100%);
    border-color: var(--retro-green-main);
  }

  .pixel-art-card.red-theme {
    background: linear-gradient(135deg, 
      #fca5a5 0%, 
      var(--pixel-white) 100%);
    border-color: var(--retro-red);
  }

  /* Retro Typography */
  .retro-title {
    font-family: 'Press Start 2P', monospace;
    color: var(--pixel-white);
    text-shadow: 
      2px 2px 0 var(--pixel-black),
      4px 4px 0 var(--retro-green-dark);
    image-rendering: pixelated;
    letter-spacing: 2px;
  }

  .retro-subtitle {
    font-family: 'Press Start 2P', monospace;
    color: var(--retro-green-bright);
    font-size: 12px;
    letter-spacing: 2px;
    image-rendering: pixelated;
  }

  .retro-body {
    font-family: 'Orbitron', 'Courier New', monospace;
    color: var(--text-on-light);
    font-weight: 600;
    line-height: 1.6;
  }

  /* Text variants for different backgrounds */
  .retro-body.on-dark {
    color: var(--text-on-dark) !important;
  }

  .retro-body.on-green {
    color: var(--text-on-green) !important;
  }

  .retro-body.on-blue {
    color: var(--text-on-blue) !important;
  }

  /* Override common Tailwind color classes for retro-body */
  .retro-body.text-white {
    color: var(--text-on-dark) !important;
  }

  .retro-body.text-black {
    color: var(--text-on-light) !important;
  }

  .retro-body.text-gray-600 {
    color: #4b5563 !important;
  }

  .retro-body.text-green-700 {
    color: #15803d !important;
  }

  .retro-body.text-orange-600 {
    color: #ea580c !important;
  }

  .retro-body.text-orange-700 {
    color: #c2410c !important;
  }

  /* For form labels - ensure they're always visible */
  .retro-body.font-bold {
    color: var(--pixel-black) !important;
    font-weight: 800;
  }

  /* Pixel Art Image Rendering */
  .pixel-image {
    image-rendering: pixelated;
    image-rendering: -moz-crisp-edges;
    image-rendering: crisp-edges;
  }

  /* Character Selection Components */
  .character-selection-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 16px;
    padding: 20px;
  }

  .character-card {
    @apply bg-white border-4 border-black p-4 cursor-pointer text-center;
    box-shadow: 4px 4px 0 var(--pixel-gray);
    transition: all 0.1s ease-in-out;
    image-rendering: pixelated;
  }

  .character-card:hover {
    transform: translate(-2px, -2px);
    box-shadow: 6px 6px 0 var(--pixel-gray);
  }

  .character-card.selected {
    border-color: var(--retro-green-main);
    background: linear-gradient(135deg, 
        var(--retro-green-light) 0%, 
        var(--pixel-white) 100%);
  }

  .character-avatar {
    @apply w-16 h-16 mx-auto mb-3;
    image-rendering: pixelated;
  }

  .trait-badge {
    @apply inline-block px-2 py-1 text-xs;
    background: var(--retro-green-main);
    color: white;
    border: 1px solid var(--pixel-black);
    font-family: 'Press Start 2P', monospace;
    font-size: 8px;
  }

  /* Legacy child-friendly components updated for retro */
  .btn-child-friendly {
    @apply pixel-art-button;
  }

  .btn-child-success {
    @apply pixel-art-button;
    background: var(--retro-green-bright);
  }

  /* Retro Game Animations */
  .retro-bounce {
    animation: retro-bounce 1s ease-in-out infinite;
  }

  .retro-glow {
    animation: retro-glow 2s ease-in-out infinite;
  }

  .retro-shimmer {
    animation: pixel-shimmer 1.5s ease-in-out infinite;
  }

  /* Mobile Touch Optimization for Retro Interface */
  .retro-touch-target {
    @apply min-h-[56px] min-w-[56px];
    touch-action: manipulation;
    user-select: none;
  }

  /* Retro Progress Bar */
  .retro-progress-bar {
    @apply w-full h-6 border-4 border-black bg-gray-200;
    image-rendering: pixelated;
    box-shadow: inset 2px 2px 0 var(--pixel-gray);
  }

  .retro-progress-fill {
    @apply h-full transition-all duration-1000 ease-out;
    background: linear-gradient(135deg, 
      var(--retro-green-main) 0%, 
      var(--retro-green-bright) 100%);
    box-shadow: inset 1px 1px 0 var(--retro-green-light);
  }
  .btn-child-friendly {
    @apply px-8 py-4 min-h-[56px] min-w-[120px];
    @apply text-child-lg font-bold tracking-wide;
    @apply rounded-child-lg shadow-child-friendly;
    @apply border-4 border-white border-opacity-20;
    @apply transform transition-all duration-300;
    @apply hover:scale-105 hover:shadow-child-hover active:scale-95;
    @apply bg-gradient-to-r from-game-primary-500 to-game-secondary-600 text-white;
  }

  .btn-child-success {
    @apply btn-child-friendly;
    @apply bg-gradient-to-r from-game-success-500 to-game-primary-500;
  }

  .card-child {
    @apply p-6 md:p-8 rounded-child-xl shadow-child-friendly;
    @apply border-4 border-opacity-10 border-game-primary-200;
    @apply min-h-[120px] bg-white;
    @apply transform transition-all duration-300 hover:scale-102;
  }

  .educational-card {
    @apply card-child;
    @apply bg-gradient-to-br from-white to-game-primary-50;
    @apply border-game-primary-300;
  }

  .progress-meter {
    @apply w-full bg-gray-200 rounded-full h-6 overflow-hidden;
    @apply border-2 border-gray-300 shadow-inner;
  }

  .progress-fill {
    @apply bg-gradient-to-r from-game-success-400 to-game-primary-500 h-full rounded-full;
    @apply transition-all duration-1000 ease-out;
    @apply shadow-lg;
  }

  .dice-container {
    @apply flex flex-col items-center space-y-4 p-6;
    @apply bg-gradient-to-br from-game-secondary-500 to-game-primary-600 rounded-child-xl;
    @apply cursor-pointer transform transition-all duration-300;
    @apply hover:scale-105 active:scale-95 shadow-child-friendly;
  }

  .territory-card {
    @apply card-child cursor-pointer;
    @apply border-transparent hover:border-game-primary-400;
    @apply hover:shadow-child-hover;
  }

  .territory-card.owned {
    @apply border-game-success-200 bg-game-success-50;
    @apply hover:border-game-success-400;
  }

  .input-child {
    @apply px-4 py-3 text-child-base rounded-child;
    @apply border-2 border-gray-300 focus:border-game-primary-500;
    @apply min-h-[48px] min-w-[200px];
    @apply focus:ring-4 focus:ring-game-primary-200 focus:ring-opacity-50;
    @apply transition-all duration-200;
  }

  .game-layout {
    @apply min-h-screen bg-gradient-to-br from-game-primary-50 via-white to-game-secondary-50;
    @apply font-readable text-child-base text-gray-800;
  }

  .game-header {
    @apply bg-white shadow-child-friendly border-b-4 border-game-primary-200;
    @apply p-4 md:p-6;
  }

  .game-content {
    @apply container mx-auto px-4 py-6 md:py-8;
    @apply max-w-7xl;
  }

  .loading-spinner {
    @apply relative w-16 h-16 mx-auto;
  }

  .spinner-ring {
    @apply absolute inset-0 border-4 border-game-primary-200 border-t-game-primary-500 rounded-full;
    animation: spin 1s linear infinite;
  }

  .achievement-celebration {
    animation: celebrate 1000ms ease-out;
  }

  .resource-update {
    animation: countUp 500ms ease-in;
  }

  /* Retro Loading Spinner */
  .retro-loading-spinner {
    width: 24px;
    height: 24px;
    border: 4px solid var(--pixel-black);
    border-top: 4px solid var(--retro-green-main);
    border-radius: 0;
    animation: retro-spin 1s linear infinite;
    image-rendering: pixelated;
  }

  @keyframes retro-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
}

/* Custom animations for educational feedback */
@keyframes celebrate {
  0% { transform: scale(1) rotate(0deg); }
  25% { transform: scale(1.1) rotate(5deg); }
  50% { transform: scale(1.2) rotate(-5deg); }
  75% { transform: scale(1.1) rotate(3deg); }
  100% { transform: scale(1) rotate(0deg); }
}

@keyframes countUp {
  0% { transform: translateY(20px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Retro Game Animations */
@keyframes retro-bounce {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

@keyframes retro-glow {
  0%, 100% { 
    box-shadow: 0 0 5px var(--retro-green-main);
  }
  50% { 
    box-shadow: 0 0 20px var(--retro-green-main),
                0 0 30px var(--retro-green-light);
  }
}

@keyframes pixel-shimmer {
  0% { opacity: 1; }
  50% { opacity: 0.7; }
  100% { opacity: 1; }
}

/* Child-friendly accessibility improvements */
@layer utilities {
  .focus-child {
    @apply focus:outline-none focus:ring-4 focus:ring-game-primary-300;
    @apply focus:ring-opacity-50 focus:border-game-primary-500;
  }

  .text-child-readable {
    @apply text-child-base leading-relaxed font-readable;
  }

  .touch-child {
    @apply min-h-[44px] min-w-[44px] select-none;
    touch-action: manipulation;
  }

  .touch-child-comfortable {
    @apply min-h-[56px] min-w-[56px];
  }

  .touch-child-large {
    @apply min-h-[72px] min-w-[72px];
  }
}
